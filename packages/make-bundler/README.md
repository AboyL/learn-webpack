### 如何实现一个bundler(简易的webpack)

### 步骤
1. 如何实现打包工具的编写
2. 如何实现loader机制
3. 如何实现plugin机制


### 打包工具的编写
1. 分析入口文件
  读取文件内容
  对文件内容进行分析
  将文件内容解析成为抽象语法树AST 可以借助 **@babel/parser**  进行分析
  抽象语法树将js的代码转化成了js的对象 在这个对象的body字段中 我们可以找到import *ImportDeclaration* 对应的内容 因此就可以知道入口文件 **依赖** 哪些文件
  可以借助 **@babel/traverse** 快速的帮助我们获取到依赖的文件  他的意思是遍历 可以快速遍历到我们所需要的内容
  注意路径的处理

2. 文件处理
  使用 **@babel/core** 将es6以及以上的语法转化成为es5的语法
  通过以上的步骤我们可以得到一个对象
```js
{
  filename:'path',
  dependecies:{
    '引入路径':'绝对路径'
  },
  code:'实际执行的代码'
}
```

3. 循环分析
需要对引入的 dependecies 进行分析
dependecies graph 依赖图
得到全部的依赖的code
需要注意处理循环依赖的问题
同时要注意进行数据结构的转化 我们最后的时候是需要知道当前的文件 知道自己依赖了哪些文件的
最后得到数据结构
```js
{
  filename:{
    dependecies:{
      '引入路径':'绝对路径'
    },
    code:'实际执行的代码'
  }
}
```

4. 生成可运行的代码
具体的生成规则我们其实可以看下平时的时候使用webpack进行打包后生成的代码
需要实现 require方法
需要实现 exports的对象
